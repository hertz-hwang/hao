# 琉璃

## 简介

琉璃是一款拥有优秀手感、字词低重，且支持全字集(CJK、CJK-A~J、中⽇韩部⾸补充、康熙部⾸、汉字笔画、兼容字形、⻄夏⽂、契丹⼩字等)的三码定长方案。

废话不多说，先上数据：

琉璃单字数据：
![琉璃单字](/data/琉璃-42字.png)

> 琉璃单字在不出一简的情况下，便拥有了接近 `75%` 的二简率，这便有了天然的四二顶打法的优势。（这也是算码阶段的一项重点指标）

琉璃四码词组数据：
![琉璃词组](/data/琉璃-词.png)

> 在不过多损失单字性能为前提，琉璃词组也依然做到了常用词组前六万动态重​码不到 `2%` (实际数据为1.994%)，常用词组前六万静态重码数仅 `5285个`。

## 取码

全码取码方式:

    - 单根字: 字根大码 + 字根小码 + 字根小码.

        - 一: `(一|Fk) -> [fkk]`.

        - 了: `(了|Ld) -> [ldd]`.

    - 两根字: 首根大码 + 次根大码 + 次根小码.

        - 他: `(亻也|IuXi) -> [ixi]`.

        - 有: `(𠂇冃|EoHz) -> [ehz]`.

    - 多根字: 首根大码 + 次根大码 + 末根大码.

        - 的: `(白勹丶|DhKlMs) -> [dkm]`.
		
        - 啊: `(口阝可|PrErUr) -> [peu]`.

## 打法

> 琉璃总的打法有三种：默认模式、四二顶模式、字词模式。

### 默认模式

> 默认模式下又可通过输入 `/smart` 再按空格键切换三种上屏形式：智能延迟顶（七三顶）、五三顶、三定。

默认下，琉璃是七三延迟顶，可能很多人初用该模式后，会认为该模式的上屏太麻烦了，因为简码都要按两次空格才能上屏，认为这样打，码长极长。其实是没有理解并掌握七三打法的精髓。

- 输入串:

在该模式下，输入串分为了两个区域: "暂存串" 和 "活动串"。何意味？看图：

![琉璃输入串](/data/琉璃-输入串.png)

如 "琉璃"：编码为 `kpwkm_`, 此时暂存串为 `kpw`, 活动串为 `km_`, 暂存候选为 "琉", 活动候选为 "璃"。

因此在该模式下，暂存串中的字词和活动串中的首选本质就已经是待上屏文本，需要养成的习惯是：任何时候都不要急于上屏，等打到标点，利用标点顶屏即可。

- 清空活动串:
    - 由于存在延迟顶, 改写了一般的 *回车清屏* 功能, 使得回车键只清除活动编码, 而不是清除整个输入串.
    - 例如当前输入串为 `💎 琉 ›km‹【璃】¹`, 则按下回车键后, 清除活动串 `km`, 输入串变为 `💎  ›kpw‹【琉】¹ [鯍]² [鰭]³`.

- 智能选重:
    - 对形如 `abcdef` 的输入串, 检查有无非单字首选的词组可用.
    - 例如 "玲珑" 一词, 编码为 `kgmktl`, 其中 `kgm`/`ktl` 的首选分别是 "玲"/"笼", 为了打出 "玲珑", 程序会自动引入该六码智能词条.
    - ~又如 "逸码", 编码为 `edfrw_`, 单字首选是 "连"/"码", 自动引入该五码词.~
    - 首次部署后，须输入 `/smart` 再选择 “词典载入”，方可激活智能选重.

- 打断施法:
    - 当输入串 `abcdef` 触发 *智能选重* 时, 如果原本想输入的是首选单字, 则可按下 `Tab` 键打断本次智能联想.
    - 例如 `💎  ›l₁‹【怂了💭】¹ [忘][了]²`, 若此时想要输入并不是 "怂" 而是 "忘", 则只须按下 `Tab` 键, 上屏 "忘" 字, 输入串变为 `忘💎  ›l₁‹【了】¹`.

- 四码两吃:
    - 三码词库只收录 *CJK* 字集, 合计约两万一千字.
    - 如需临时输入 *CJK* 以外的非常用字、以及词组, 可借助 `四码+Tab` 直接上屏的方式.
      - 四码单字的取码规则和常规四定一致：
        - 两根字: 首根大码 + 次根大码 + 次根小码 + 首根小码.
        - 三根字: 首根大码 + 次根大码 + 末根大码 + 末根小码.
        - 四根及以上字: 首根大码 + 次根大码 + 第三根大码 + 末根大码.

### 四二顶模式

因为琉璃拥有极高的二简率，这就能很好地支持四二顶打法。

> 四二顶解释：输入到第四码时，自动顶上前两码对应的单字，因此一简和全码需要打空格。

- 特殊情况处理:
    - 二简后接一简，如 "没有"，编码为 `mf e`，当输完 `mfe` 按下空格，会发现上屏了 "汙" 字，这显然不符合预期，那么这种情况下，正确的打法为 `mfe/`，利用 `/` 键定义好的 "key_binder" 来实现。
	- 二简后接一简二重，四二顶模式下的快符被安排在了一简二重，如为了方便地打出 "吗？"，只需输入编码 `pww`，然后按下Tab键就能实现上屏。

### 字词模式

该模式下，*CJK* 单字码长为 3，*CJK* 以外单字码长为 4 且后置于词组，词组码长为 4，候选唯一自动上屏。

## 琉璃入门三步：
1. 阅读[琉璃介绍](Introduction-liuli)了解，取码和打法。
2. 使用官网在线[琉璃字根学习](/gen-liuli)程序，记住字根，根据练习量不同，尽量在1-3天内完成。
3. 使用跟打器，如：[木易跟打器(在线)](https://typer.owenyang.top/)、Pain打器、[极速跟打器](https://www.jsxiaoshi.com/)等练习常用单字前500。
**练习方法**：设置跟打器，让其发文字数为10字一组，键准100%，击键大于等于3击下一组，若未达到3击，则乱序重打。  
刚开始练习时可先设置2-3击，打过一轮后再提升0.5-1击，直至前五百十字一组，每组能达到6击则为及格。  
<font color="#FF0000">注：练习时一定注意不要抢击，要避免积累过多错误条反，要先保证键准，重复次数多了，击键自然就上去了。</font>